\documentclass{article}
\usepackage{latexsym}
\usepackage{amsmath}
\usepackage{amssymb}

\begin{document}
\title{Measure Theory notes}
\author{Dave Neary}

\maketitle

\section{Motivation for Lebesgue integral}

\subsection{Overview of the Riemann integral}

The Riemann integral of a continuous function $f:\mathbb{R} \rightarrow \mathbb{R}$ is defined as:

\[ \int_{a}^{b}f(x) dx = \lim_{n \rightarrow \infty}\sum_{i=1}^{n}f(x_{i}) \Delta x \]
 
where $x_{i} = a + (i-1)\Delta x$ and $\Delta x=\frac{b-a}{n}$

In other words, we partition the domain of the function into small slices, 
and calculate the area under the curve by multiplying the width of the slices 
by the value of the function at the beginning of the slice.

This works well for a certain class of functions, called Riemann-integrable
functions. These functions must satisfy the condition that the domain is $\mathbb{R}$,
and that limit above exists.

More generally, we can calculate an upper Riemann sum $U(f)$ by summing the 
areas using $\sup{f(x)}$ on each partition, and a lower sum $L(f)$ by using $\inf{f(x)}$
for each interval. The function $f$ is Riemann integrable when $\lim L(f) = \lim U(x)$. 

\subsection{Limitations of the Riemann integral}

It is possible to generalize the Riemann integral to two
or more dimensions, but the problem of finding an appropriate partition of the domain
means that for dimensions of the real numbers which are higher than $\mathbb{R}^2$,
the Riemann integral is limited.  In addition, we would like to consider other classes
of domains than the reals for functions - for example, probability spaces or generic
Hilbert spaces - where some alternative idea of the area under the curve (or more 
generally, the volume of a set) may make sense. Another limitation of the Riemann
integral is that there are useful classes of functions for which it does not converge,
but for which a reasonable value for the integral exists.
 
Another limitation of the Riemann integral is that there is only a very limited set of
functions for which  it is possible to say 
\[\int \sum_n f_n(x) dx = \sum_n \int f_n(x) dx \]

Namely, $f_n(x)$ must converge uniformly to $f(x)$, which is a very strong constraint.

As a result of these limitations, the idea of the Lebesgue integral is to partition
the function range instead of the domain. We then identify the subsets of the domain for
specific values of $f(x)$, and calculate their volume using a generic measure function
$\mu$. By taking finer and finer intervals of the range, we can get better and better 
estimates of the volume under the function with respect to the domain and the measure.

The remainder of this document will describe the characteristics of a domain, the
constraints required for a measure, which types of functions we can integrate, and
a precise definition of the Lebesgue integral. We will also include a selection of
proofs and problems which we can use the Lebesgue integral to solve.

\section{Lebesgue Measure}

Working backwards, to define what we mean by an integrable function, we will need to
first define how to measure the volume of a subset of a domain (a measure), and to
define a measure, we must first define the types of sets which will be measurable.

\subsection{Measurable spaces}

Starting from a set $X$, a collection of subsets of $X$, $\mathcal{A}$, is called a
$\sigma$-algebra if it satisfies the following conditions:

\begin{enumerate}
		\item $X \in \mathcal{A}$
		\item For each $A \in \mathcal{A}$, $X \setminus A \in \mathcal{A}$
		\item For a countable sequence of subsets $(A_n)_{n \in \mathbb{N}} \in \mathcal{A}$,
			\[\bigcup_{n} A_n \in \mathcal{A} \]
\end{enumerate}

We will see when we define a measure why this is called a $\sigma$-algebra.

The pair $(X, \mathcal{A})$ is called a measurable space.

Given any collection of subsets $\mathcal{C}$ of subsets of $X$, we can generate a 
smallest $\sigma$-algebra which contains $\mathcal{C}$. That is, there is a $\sigma$-algebra 
$\mathcal{A}$ such that if $\mathcal{B}$ is a $\sigma$-algebra containing $\mathcal{C}$, then 
$\mathcal{A} \subseteq \mathcal{B}$. We say that such a $\sigma$-algebra $\mathcal{A}$ is
generated by $\mathcal{C}$.

\subsubsection{Examples}

\begin{enumerate}
	\item \textbf{Exercise:} If $X=\{1,2,3,4\}$, and the $\sigma$-algebra $\mathcal{A}$ is
		generated by $\{\{1,2\},\{2,3\}\}$, what are the other members of 
		$\mathcal{A}$? \\
		\textbf{Answer:} By condition 1 above, $X=\{1,2,3,4\} \in \mathcal{A}$,
		and by condition 2, since $X \in \mathcal{A}$, $X \setminus X = \emptyset 
		\in \mathcal{A}$. Similarly, since $\{1,2\}$ and $\{2,3\} \in \mathcal{A}$,
		$X \setminus \{1,2\} = \{3,4\}$ and $X \setminus \{2,3\} = \{1,4\} \in 
		\mathcal{A}$. By rule 3, $\{1,2\} \cup \{2,3\} = \{1,2,3\}$ and $\{2,3\} \cup 
		\{3,4\} = \{2,3,4\} \in \mathcal{A}$. And by rule 2 again, $X \setminus 
		\{1,2,3\} = \{4\}$ and $X \setminus \{2,3,4\} = \{1\} \in \mathcal{A}$. Back to 
		rule 3, $\{4\} \cup \{1,2\} = \{1,2,4\}$ and $\{1\} \cup \{3,4\} = \{1,3,4\} \in
		\mathcal{A}$. Finally, $X \setminus \{1,2,4\} = \{3\}$ and $X \setminus 
		\{1,3,4\} = \{2\} \in \mathcal{A}$. Since each of the individual elements of 
		$X$ are in a subset on their own, we can now create all possible subsets 
		of $X$. $\mathcal{A} = \mathcal{P}(X)$, the power set of all subsets of $X$.
	\item \textbf{Exercise:} Prove that for a countable sequence of subsets 
		$(A_n)_{n \in \mathbb{N}} \in \mathcal{A}$, a $\sigma$-algebra on $X$, that 
		\[\bigcap_{n} A_n \in \mathcal{A} \]
		\textbf{Answer:} Define a sequence of sets $B_n = X \setminus A_n$. Then, 
		by condition 2, $B_n \in \mathcal{A}$ for all $n$. By condition 3, 
		\[ B = \bigcup_n B_n \in \mathcal{A} \] 
		\[ X \setminus B \in \mathcal{A} \]
		By Demorgan's laws, 
		\[
			X \setminus \bigcup_n B_n = \bigcap_n (X \setminus B_n) = \bigcap_n A_n
		\]
		So $\bigcap_n A_n \in \mathcal{A}$. QED.
	\item \textbf{Exercise:} $(X, \mathcal{A})$ is a measurable space, with $Y \subset X$.
		Prove that $(Y,\mathcal{A^\prime})$ is a measurable space, where
		$\mathcal{A}^\prime = \{A \bigcap Y | A \in \mathcal{A}\}$\\
		\textbf{Answer:} Since $\emptyset \in \mathcal{A}$, $\emptyset \bigcap Y =
		\emptyset \in \mathcal{A}^\prime$. Similarly, since $X \in \mathcal{A}$, 
		$X \bigcap Y = Y \in \mathcal{A}^\prime$. \\
		For any $A \in \mathcal{A}$, $X \setminus A \in \mathcal{A}$, and $(X \setminus A) 
		\bigcap Y = (X \bigcap Y) \setminus (A \bigcap Y) = Y \setminus (A \bigcap Y)$.
		So if $A \bigcap Y \in \mathcal{A}^\prime$, then $Y \setminus (A \bigcap Y) \in
		\mathcal{A}^\prime$\\
		Finally, let $(A_i)_{i \in \mathbb{N}}$ be a sequence of sets in $\mathcal{A}$. Then
		\[\bigcup_{i \in \mathbb{N}} A_i \in \mathcal{A} \]
		Define a sequence $(B_i)_{i \in \mathbb{N}}$ with  $B_i = Y \bigcap A_i$ for all $i$.
		Then
		\begin{equation}
			\bigcup_{i \in \mathbb{N}} B_i = \bigcup_{i \in \mathbb{N}} (Y \bigcap A_i) \\
			= Y \bigcap \left(\bigcup_{i \in \mathbb{N}} (A_i)\right) \in \mathcal{A}^\prime
		\end{equation}
		Therefore, $(Y, \mathcal{A^\prime})$ is a measure space.
\end{enumerate}

\subsection{Measures}

The extended real numbers is the set $\overline{\mathbb{R}} = \mathbb{R} \bigcup \{-\infty, \infty\}$.

\textbf{Definition:} A measure is a function $\mu:X \rightarrow \overline{\mathbb{R}_{0}^{+}}$ on a
measurable space $(X, \mathcal{A})$ which satisfies the conditions:

\begin{enumerate}
	\item $\mu(\emptyset) = 0$
	\item if $(A_i)_{i \in \mathbb{N}} \in \mathcal{A}$ is a sequence of pairwise disjoint
		sets (that is, $A_i \bigcap A_j = \emptyset$ if $i \ne j$), then:
		\[ \mu \left( \bigcup_{i =1}^{\infty} A_i \right) = \sum_{i=1}^{\infty} \mu
		\left( A_i \right) \]
\end{enumerate}

This characteristic of being able to turn a countable union of disjoint sets into a sum is why
$\mathcal{A}$ is called a $\sigma$-algebra.

In general, we can think of the measure of a set as its volume, or (for real functions) as
the area under the curve.

A measurable space $(X, \mathcal{A})$ with a measure $\mu$ is called a measure space, and
is written $(X, \mathcal{A}, \mu)$.

We can deduce a number of lemmas from this definition:

\textbf{Lemma:} If $A \subseteq B$ and $A, B \in \mathcal{A}$, then $\mu(A) \le \mu(B)$

\textbf{Lemma:} For a sequence of sets $(A_i)_{i \in \mathbb{N}} \in \mathcal{A}$ 
\[ \mu \left( \bigcup_{i =1}^{\infty} A_i \right) \ge \sum_{i=1}^{\infty} \mu
                \left( A_i \right) \]

\textbf{Lemma:} For a sequence of sets $(A_i)_{i \in \mathbb{N}} \in \mathcal{A}$ with 
$A_i \subseteq A_j$ if $i<j$ then 
\[ \mu \left( \bigcup_{i =1}^{\infty} A_i \right)= \lim_{i \rightarrow \infty} \mu(A_i) \]

Similarly, for a sequence where $A_i \supseteq A_j$ for $i<j$, 
$\mu \left( \bigcap_{i =1}^{\infty} A_i \right)= \lim_{i \rightarrow \infty} \mu(A_i)$

Some examples of measures are the trivial measure $\mu(A)=0$ for all $A \in \mathcal{A}$,
the counting measure $\mu(A) = |A|$ if A is finite, or $\infty$ if it is infinite, and the
Dirac measure $\delta_a(S) = 1$ if $a \in S$ or 0 otherwise.

\textbf{Exercise:} Prove that the trivial, counting, and Dirac functions are measures.
\textbf{Exercise:} Prove the lemmas above.

\subsection{Measurable functions}

Let (X, A) and (Y, B) be measurable spaces. A function f:X -> Y with respect to the 
sigma-algebras A, B if, for each subset B in B, f^-1(B) in A (where f^-1(B) is the
pre-image of the set B under the function f, {x in X s.t. f(x) \in B}).

Thinking about useful collections of sets for a measure space, for functions mapping onto 
R-bar, we can generate a sigma-algebra from the set of open intervals in R, plus \infty.
Then we define the measure lambda ((a,b)) = b-a - this is the Lebesgue measure.

A sigma-algebra generated from all of the open subsets of X is called the Borel
sigma-algebra. It is a useful concept, because by choosing a Borel sigma-algebra, A is
also a topology, and we inherit all of the useful theorems from topology too.

Reminder: A topological space is a nonempty set X plus a set of subsets A possessing the properties:
1. X and null are in A
2. if O1 is in A and O2 is in A, then O1 int O2 in A
3. For Oalpha in A, the countable union over a of Oa is in A
\end{document}
